
 
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <style>
body {
    background-color: #f8f9fa;
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}
.container.main{
    height: 64vh;
}
.chat-container {
    width: 80%;
    max-width: 600px; /* Adjust as needed */
    margin: 50px auto;
    position: fixed;
    top: 45%;
    left: 50%;
    transform: translate(-50%, -50%);
    border: 1px solid #ccc;
    border-radius: 8px;
    overflow: hidden;
}
        .chat-container {
            max-width: 900px;
            margin: 40px auto;
            border: 1px solid #ccc;
            border-radius: 8px;
            overflow: hidden;
      
        }

        .chat-header {
            background-color: #d4d4d4;
            color: #fff;
            padding: 10px;
        }

        .chat-messages {
            max-height: 50vh;
            overflow-y: auto;
            min-height: 45vh;
            padding: 10px;
            display: flex;
            flex-direction: column;
        
        }

        .message {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            max-width: 70%;
        }

        .user-message {
            background-color: #ffdb98;
            color: #fff;
            align-self: flex-end;
            float: left;
        }

        .admin-message {
            background-color: #f8f9fa;
            color: #000;
            align-self: flex-start;
            float: right;
        }

        .message-box {
            display: flex;
            margin-top: 20px;
            background-color: #fff;
            border-top: 1px solid #ccc;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: none;
      
        }

        .message-input {
            flex: 1;
            padding: 4px;
            border: none;
            border-radius: 5px;
            margin-right: 5px;
            background-color: #000000;
           
        }
    #messageContainer{
        border: none;
        width: 80%;
        height: 35px;
    }     
    .send-button {
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        background-color: #9e9e9e;
        color: #fff;
        cursor: pointer;
    }
    .conversation-info {
        font-size: 14px;
    }
        .clear-button {
    background-color: #dc3545;
    border: none;
    color: #fff;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
    font-size: 14px;
    position: absolute;
    top: 10px;
    right: 10px;
}

.clear-button:hover {
    background-color: #c82333;
}

.clear-button:focus {
    outline: none;
}

.clear-button:active {
    background-color: #bd2130;
}

a{
    color: rgb(255, 255, 255);
}
    </style>

    <div class="container main">
        <div class="chat-container">
            <div class="chat-header" style="position: relative;">
                <div style="display: flex; justify-content: space-between; flex-direction: row;"> 

                    <% if (messages) { %>
                        <h5><%= messages[0].sender%></h5>
                     
                    <% } %>

                    <h5 class="mb-0">Customer Support</h5>
                </div>
                <div class="conversation-info">
                    
                    <!-- <button class="clear-button"><a href="clearChat/<%=user._id%>"><i class="fas fa-trash"></i> Clear chat</a></button> -->

                </div>
            </div>
            <div class="chat-messages" id="chat-messages">

                <% if (messages) { %>
                    
                    <% messages?.forEach((message) =>{ %>
                        <div class="message <%= message.userRole%>">
                            <%=message.content%>
                        </div>
                        <% }); %>

                <% } %>
                
                <br>
            </div>
            <div class="message-box">
                <input type="text" id="messageContainer" placeholder="Type your message...">
                <input type="hidden" id="userId" value="<%= user._id %>">
                <input type="hidden" id="userName" value="<%= user.userName%>">
            
                <button class="send-button" id="sendMessageButton"><i class="fas fa-paper-plane"></i> Send</button>
           
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>

    <!-- Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Font Awesome Icons -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
 
    <script defer src="assets\js\lib\socketio.js"></script>
    <script defer src="assets\js\sockets.js"></script>
